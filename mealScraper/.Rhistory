packages(ggplot)
library(ggplot)
package(ggplot)
library(ggplot)
install.packages(ggplot)
install.packages("ggplot2")
install.packages(reshape2)
install.packages("reshape2")
install.packages('beeswarm')
install.packages('scales')
library(colorspace)
library(plyr)
install.packages('hmisc')
install.packages('Hmisc')
packages.install('hclust')
?hmisc
?Hmisc
?Hmisc.get
install.packages()
install.packages("Hmisc")
library(Hmisc)
library('rJava')
sudo ln -f -s $(/usr/libexec/java_home)/jre/lib/server/libjvm.dylib /usr/local/lib
library('rJava')
install_github("biostatmatt/sas7bdat.parso"))
install_github("biostatmatt/sas7bdat.parso")
devtools.install_github("biostatmatt/sas7bdat.parso")
devtools::install_github("BioStatMatt/sas7bdat.parso")
view raw
library(sas7bdat.parso)
library(sas7bdat.parso)
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/fnddsreccount.sas7bdat")
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/addfooddesc.sas7bdat")
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/fnddsreccount.sas7bdat")
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/fnddsnutval.sas7bdat")
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/foodportiondesc.sas7bdat")
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/subcodedesc.sas7bdat")
a<-read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/subcodedesc.sas7bdat")
View(a)
read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/fnddsnutval.sas7bdat")
nutrVals<-read.sas7bdat.parso("/Users/austinkim/Desktop/Knights Lab/db/fnddsnutval.sas7bdat")
install.packages('tidyverse')
library(haven)
read_sas("/Users/austinkim/Desktop/Knights Lab/db/addfooddesc.sas7bdat")
View(a)
a<-read.sas7bdat.parso('fnddsreccount.sas7bdat')
a<-read.sas7bdat.parso('/Users/austinkim/Desktop/Knights Lab/db/fnddsreccount.sas7bdat')
b<-read_sas('/Users/austinkim/Desktop/Knights Lab/db/fnddsreccount.sas7bdat')
b
addfoodDesc<-read_sas('/Users/austinkim/Desktop/Knights Lab/db/addfooddesc.sas7bdat')
View(addfoodDesc)
View(a)
nutVals<-read_sas('/Users/austinkim/Desktop/Knights Lab/db/fnddsnutval.sas7bdat')
View(nutVals)
View(nutVals)
View(addfoodDesc)
View(a)
mainFoodDesc<-read_sas("/Users/austinkim/Desktop/Knights Lab/db/mainfooddesc.sas7bdat")
View(mainFoodDesc)
View(a)
View(addfoodDesc)
View(mainFoodDesc)
View(mainFoodDesc)
View(mainFoodDesc)
vignette(hclust)
vignette('hclust')
View(addfoodDesc)
View(mainFoodDesc)
vignette(data.tree)
install.packages('data.tree')
?data.tree
?data.tree()
vignette("data.tree")
vignette("application", package="data.tree")
vignette("applications", package="data.tree")
?data.tree$Do
?data.tree
??data.tree
?Aggregate()
?data.tree.Aggregate()
str(mainFoodDesc$Food_code[,1])
str(mainFoodDesc$Food_code[1])
typeof(mainFoodDesc$Food_code[1])
?as.integer
as.integer(11/10)
as.integer(16/10)
Main_GROUP<-as.integer((mainFoodDesc$Food_code)/10000000)
Main_GROUP
mainFoodDesc$first_digit<-Main_GROUP
grp<-mainFoodDesc$Food_code
second_group<-as.integer(grp/1000000)
View(mainFoodDesc)
second_digits<-second_group
mainFoodDesc$second_digits<-second_digits
mainFoodDesc$third_digits<-as.integer(grp/10000)
View(mainFoodDesc)
mainFoodDesc$third_digits<-as.integer(grp/100000)
View(mainFoodDesc)
mainFoodDesc$fourth_digits<-integer((grp/10000)%10)
mainFoodDesc$fourth_digits<-as.integer((grp/10000)%10)
mainFoodDesc$fourth_digits<-as.integer((grp/10000))
mainFoodDesc$fourth_digits<-as.integer(mainFoodDesc$fourth_digits%%10)
View(mainFoodDesc)
library(data.tree)
mainFoodDesc$pathString<-paste("root", mainFoodDesc$first_digit, mainFoodDesc$second_digits, mainFoodDesc$third_digits, mainFoodDesc$fourth_digits, sep="/")
print(tree, pruneMethod="dist", limit="20")
tree<-as.Node(mainFoodDesc[,])
mainFoodDesc$pathString<-paste("foodGroups", mainFoodDesc$first_digit, mainFoodDesc$second_digits, mainFoodDesc$third_digits, mainFoodDesc$fourth_digits, sep="/")
tree<-as.Node(mainFoodDesc[,])
print(tree, pruneMethod = ="dist", limit=20)
print(tree, pruneMethod ="dist", limit=20)
tree$`1`$`11`$`110`
vignette("applications", "data.tree")
unique(mainFoodDesc$third_digits)
filterTest<-intersect(unique(mainFoodDesc$third_digits), mainFoodDesc$third_digits)
tree$`1`$`11`$`110`
mainFoodDesc$pathString<-paste("foodGroups", mainFoodDesc$first_digit, mainFoodDesc$second_digits, mainFoodDesc$third_digits, mainFoodDesc$fourth_digits, mainFoodDesc$Main_food_description, sep="/")
tree<-as.Node(mainFoodDesc[,])
library(data.tree)
tree<-as.Node(mainFoodDesc[,])
print(tree, pruneMethod = ="dist", limit=20)
print(tree, pruneMethod ="dist", limit=20)
tree$`1`$`11`$`110`
12345678%%100000
mainFoodDesc$rem_digits<-mainFoodDesc$Food_code%%100000
mainFoodDesc$pathString<-paste("foodGroups", mainFoodDesc$first_digit, mainFoodDesc$second_digits, mainFoodDesc$third_digits, mainFoodDesc$fourth_digits, mainFoodDesc$rem_digits, mainFoodDesc$Main_food_description, sep="/")
tree<-as.Node(mainFoodDesc[,])
library(data.tree)
tree<-as.Node(mainFoodDesc[,])
print(tree, pruneMethod ="dist", limit=20)
View(mainFoodDesc)
tree$`1`$`11`$`113`$`2`$`20000`
tree$`1`$`11`$`113`$`2`$`21000`
View(addfoodDesc)
?read.csv
getwd()
setwd('mealScraper')
setwd("/Users/austinkim/Desktop/Knights Lab/Supertracker/mealScraper")
getwd()
Sys.getenv("mealScraper")
cd
setwd("/Users")
Sys.getenv("mealScraper")
getwd
getwd()
setwd("/Users/austinkim/Desktop/Knights Lab/Supertracker/mealScraper")
script.dir(getwd())
meals<-read.csv(paste(getwd(), 'SuperTracker Foods Database 2017.csv', sep='/'))
meals<-read.csv(paste(getwd(), 'SuperTracker Foods Database 2017.csv', sep='/'))
foods<-read.table(paste(getwd(), "foodOutput.txt",sep="/"))
foods<-read.table(paste(getwd(), "foodOutput.txt",sep="\t"))
foods<-read.table(paste(getwd(), "foodOutput.txt",sep="/"), header=TRUE, sep="\t")
foods<-read.table(paste(getwd(), "foodOutput.txt",sep="/"), header=TRUE, sep="\t")
foods<-read.table(paste(getwd(), "mealSummaryOutput.txt",sep="/"), header=TRUE, sep="\t")
foods<-read.table(paste(getwd(), "mealSummaryOutput.txt",sep="/"), header=TRUE, sep="\t", quote="")
View(foods)
?map
??map
?merge
View(meals)
output<- merge(foods, meals, by.x = "Food", by.y = "foodname")
View(output)
output<- merge(foods, meals, by.x = "Food", by.y = "foodname", all.x=TRUE)
View(output)
write.table( output, "mealScraperOutput.txt", sep="\t", eol="\n")
write.table( output, "mealScraperOutput.txt", sep="\t", eol="\n", quote=FALSE)
output[order("Date")]
output[order(-"Date")]
output[order(- "Date")]
output[order(-Date)]
output[order(-output$Date)]
output[-order(output$Date)]
output[order(output$Date)]
output[order("Date")]
output[-order("Date")]
output[order("Date")]
getwd()
setwd("~/mealScraper")
setwd("/Users")
setwd("~/mealScraper")
packs<-c("biom","ggplot2","RColorBrewer","ggthemes")
script.dir <- dirname( sys.frame(1)$ofile)
?write.table()
write.table( output, paste(script.dir, "output", "mealScraperOutput.txt", sep="/"), sep="\t", eol="\n", quote=FALSE)
script.dir <- setwd("~/Documents/mealScraper/")
foods <- read.table( paste( script.dir, "output", "mealSummaryOutput.txt",sep="/"), header=TRUE, sep="\t", quote="")
meals <- read.csv( paste( script.dir, "output", 'SuperTracker Foods Database 2017.csv', sep='/'))
output <- merge( foods, meals, by.x = "Food", by.y = "foodname", all.x=TRUE)
write.table( output, paste(script.dir, "output", "mealScraperOutput.txt", sep="/"), sep="\t", eol="\n", quote=FALSE)
dirname()
args = commandArgs(TRUE)
results_file = args[1]
output_path = dirname(normalizePath(results_file))
commandArgs(TRUE)
getScriptPath()
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
